<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Automata</title>
    <!-- Favicon -->
    <link rel="icon" href="" type="image/x-icon" />
    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:ital,opsz,wght@0,14..32,100..900;1,14..32,100..900&display=swap"
      rel="stylesheet"
    />
    <!-- Custom CSS -->
    <link rel="stylesheet" href="./css/colors.css" />
    <link rel="stylesheet" href="./css/styles.css" />
  </head>
  <body>
    <!-- Header -->
    <header class="header">
      <div class="header__left">
        <button class="icon-button" id="menu-btn">
          <i data-lucide="menu"></i>
        </button>
        <div class="header__left-dock">
          <button
            class="dock-button"
            id="select-button"
            title="Select Elements (S)"
          >
            <i data-lucide="mouse-pointer-2"></i>
          </button>
          <button class="dock-button" id="add-state" title="Add State (A)">
            <i data-lucide="circle"></i>
          </button>
          <button
            class="dock-button"
            id="add-transition"
            title="Add Transition (T)"
          >
            <i data-lucide="spline"></i>
          </button>
          <span style="opacity: 0.3">|</span>
          <button
            class="dock-button"
            id="flag-final-button"
            title="Flag as Final (F)"
          >
            <i data-lucide="circle-dashed"></i>
          </button>
          <button
            class="dock-button"
            id="delete-button"
            title="Delete Selected (D/Del)"
          >
            <i data-lucide="trash"></i>
          </button>
          <button class="dock-button" id="home" title="Home - reset zoom/pan">
            <i data-lucide="home"></i>
          </button>
        </div>
      </div>
      <div class="header__mid">
        <div class="header__mid-select">
          <select name="select" id="machine-type">
            <option value="dfa">DFA</option>
            <option value="nfa">NFA</option>
            <option value="pda">PDA</option>
            <option value="tm">Turing Machine</option>
          </select>
          <div>
            <i data-lucide="chevrons-up-down"></i>
          </div>
        </div>
        <button class="icon-button xs" id="machine-options-btn">
          <i data-lucide="chevron-down"></i>
        </button>
        <div class="menu" id="machine-options-pane">
          <div class="speed-bar">
            <label for="speed">Speed</label>
            <input
              type="range"
              id="speed"
              name="speed"
              min="1"
              max="1000"
              value="500"
            />
          </div>
          <div class="separator hline" id="machine-options-separator"></div>
          <button class="menu-button" id="gen-regex">
            <i data-lucide="regex"></i> Genereate From Regex
          </button>
          <button class="menu-button" id="minimize-dfa">
            <i data-lucide="chevrons-down"></i> Minimize
          </button>
          <button class="menu-button" id="convert-to-dfa">
            <i data-lucide="chevrons-right"></i> Convert to DFA
          </button>
        </div>
      </div>
      <div class="header__right">
        <div class="header__right-play">
          <button class="icon-button sm" id="rewind">
            <i data-lucide="rewind"></i>
          </button>
          <button class="icon-button sm" id="previous">
            <i data-lucide="skip-back"></i>
          </button>
          <button class="icon-button sm" id="play-pause">
            <i data-lucide="play" id="play-icon"></i>
            <!-- <i data-lucide="pause" id="pause-icon"></i> -->
          </button>
          <button class="icon-button sm" id="next">
            <i data-lucide="skip-forward"></i>
          </button>
          <button class="icon-button sm" id="fast-forward">
            <i data-lucide="fast-forward"></i>
          </button>
        </div>
        <span>|</span>
        <button class="icon-button sm">
          <i data-lucide="circle-user"></i>
        </button>
      </div>
    </header>
    <!-- Main -->
    <main class="main">
      <div class="panel in-view" id="left-pane">
        <div class="menu" id="menu-pane">
          <button class="menu-button" id="load-json">
            <i data-lucide="folder"></i> Open
          </button>
          <button class="menu-button" id="save-json">
            <i data-lucide="download"></i> Save
          </button>
          <button class="menu-button" id="save-pdf">
            <i data-lucide="file"></i> Save as PDF
          </button>
          <button class="menu-button" id="clear-btn">
            <i data-lucide="delete"></i> Clear Canvas
          </button>
        </div>
        <!-- <button class="icon-button" id="panel-button">
          <i data-lucide="panel-left"></i>
        </button> -->
        <div class="" id="machine-input-box">
          <div class="input-box">
            <label for="alphabet-text">Alphabet</label>
            <input
              class="input-field"
              type="text"
              id="alphabet-text"
              placeholder="Space separated"
            />
          </div>
          <div class="input-box" id="tape-alphabet-box">
            <label for="tape-alphabet-text">Tape Alphabet</label>
            <input
              class="input-field"
              type="text"
              id="tape-alphabet-text"
              placeholder="Space separated"
            />
          </div>
          <div class="input-box" id="stack-alphabet-box">
            <label for="stack-alphabet-text">Stack Alphabet</label>
            <input
              class="input-field"
              type="text"
              id="stack-alphabet-text"
              placeholder="Space separated"
            />
          </div>
        </div>
        <div class="zoom-controls">
          <button class="icon-button" id="zoom-out">
            <i data-lucide="minus"></i>
          </button>
          <button class="icon-button" id="zoom-reset">100%</button>
          <button class="icon-button" id="zoom-in">
            <i data-lucide="plus"></i>
          </button>
        </div>
      </div>
      <div class="playground">
        <div class="panel-btn-wrapper">
          <button class="icon-button" id="panel-button">
            <i data-lucide="panel-left"></i>
          </button>
        </div>
        <svg id="svgdisplay"></svg>
        <div id="tape"></div>

        <div id="fa-input-box" class="mach-input-box"></div>
        <div id="pda-input-box" class="mach-input-box"></div>
        <div id="tm-input-box" class="mach-input-box"></div>
      </div>
    </main>
  </body>
  <script src="https://unpkg.com/lucide@latest"></script>
  <script>
    lucide.createIcons();
  </script>
  <script src="./js/app.js" type="module"></script>
</html>
